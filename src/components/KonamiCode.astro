<script>
	import { konamiCodes } from "@/consts/konami-codes"
	import { Konami } from "@/function/konami"
	import { $ } from "@/consts/dom-selector"

	const { rotateY, gloveCursor, amongUsCursor, lolCursor } = konamiCodes

	const $container = $("#main-content")

	document.addEventListener("keydown", ({ key }) => {
		Konami({
			code: rotateY,
			keyPressed: key,
			onFinishTime: 1500,
			onSuccess: () => {
				$container.style.transform = "rotateY(360deg)"
				$container.style.transition = "transform 2s ease"
			},
			onFinish: () => {
				$container.style.transition = "none"
				$container.style.transform = "none"
			},
		})

		Konami({
			code: lolCursor,
			keyPressed: key,
			onSuccess: () => {
				$("body").style.cursor = "url('/img/cursor/lol.cur'), auto"
			},
		})

		Konami({
			code: gloveCursor,
			keyPressed: key,
			onSuccess: () => {
				$("body").style.cursor = "url('/img/cursor/boxing-glove.cur'), auto"
			},
		})

		Konami({
			code: amongUsCursor,
			keyPressed: key,
			onSuccess: () => {
				$("body").style.cursor = "url('/img/cursor/among-us.cur'), auto"
			},
		})
	})
</script>
